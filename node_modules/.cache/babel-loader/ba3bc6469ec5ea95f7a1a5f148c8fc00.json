{"ast":null,"code":"import React,{useState}from\"react\";import{getWinnersByYear}from\"../../../services/api\";import\"./WinningMoviesSection.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WinningMoviesSection=()=>{const[year,setYear]=useState(\"\");const[winningMovies,setWinningMovies]=useState([]);const handleYearChange=event=>{setYear(event.target.value);};const fetchWinningMovies=async()=>{try{const movies=await getWinnersByYear(year);setWinningMovies(movies);}catch(error){console.error(\"Error fetching winning movies:\",error);}};const handleSubmit=event=>{event.preventDefault();fetchWinningMovies();};return/*#__PURE__*/_jsxs(\"div\",{className:\"winning-movies-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Winning Movies\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"search-form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Year:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:year,onChange:handleYearChange,className:\"year-input\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"search-button\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"winning-movies-table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Studios\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Producers\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Winner\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"table-content\",children:winningMovies.map(movie=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:movie.id}),/*#__PURE__*/_jsx(\"td\",{children:movie.year}),/*#__PURE__*/_jsx(\"td\",{children:movie.title}),/*#__PURE__*/_jsx(\"td\",{children:movie.studios.join(\", \")}),/*#__PURE__*/_jsx(\"td\",{children:movie.producers.join(\", \")}),/*#__PURE__*/_jsx(\"td\",{children:movie.winner?\"Yes\":\"No\"})]},movie.id))})]})})]});};export default WinningMoviesSection;","map":{"version":3,"names":["React","useState","getWinnersByYear","jsx","_jsx","jsxs","_jsxs","WinningMoviesSection","year","setYear","winningMovies","setWinningMovies","handleYearChange","event","target","value","fetchWinningMovies","movies","error","console","handleSubmit","preventDefault","className","children","onSubmit","type","onChange","map","movie","id","title","studios","join","producers","winner"],"sources":["/Users/josesilva/Documents/Projetos/sitepiorfilme/src/components/Dashboard/winner/WinningMoviesSection.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { getWinnersByYear } from \"../../../services/api\";\nimport \"./WinningMoviesSection.css\";\n\nconst WinningMoviesSection: React.FC = () => {\n  const [year, setYear] = useState<string>(\"\");\n  const [winningMovies, setWinningMovies] = useState<any[]>([]);\n\n  const handleYearChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setYear(event.target.value);\n  };\n\n  const fetchWinningMovies = async () => {\n    try {\n      const movies = await getWinnersByYear(year);\n      setWinningMovies(movies);\n    } catch (error) {\n      console.error(\"Error fetching winning movies:\", error);\n    }\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    fetchWinningMovies();\n  };\n\n  return (\n    <div className=\"winning-movies-container\">\n      <h2>Winning Movies</h2>\n      <form onSubmit={handleSubmit} className=\"search-form\">\n        <label>\n          Year:\n          <input\n            type=\"text\"\n            value={year}\n            onChange={handleYearChange}\n            className=\"year-input\"\n          />\n        </label>\n        <button type=\"submit\" className=\"search-button\">\n          Search\n        </button>\n      </form>\n      <div className=\"table-container\">\n        <table className=\"winning-movies-table\">\n          <thead className=\"table-header\">\n            <tr>\n              <th>ID</th>\n              <th>Year</th>\n              <th>Title</th>\n              <th>Studios</th>\n              <th>Producers</th>\n              <th>Winner</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-content\">\n            {winningMovies.map((movie) => (\n              <tr key={movie.id}>\n                <td>{movie.id}</td>\n                <td>{movie.year}</td>\n                <td>{movie.title}</td>\n                <td>{movie.studios.join(\", \")}</td>\n                <td>{movie.producers.join(\", \")}</td>\n                <td>{movie.winner ? \"Yes\" : \"No\"}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default WinningMoviesSection;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}